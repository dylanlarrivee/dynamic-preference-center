<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:v="urn:schemas-microsoft-com:vml"
 xmlns:o="urn:schemas-microsoft-com:office:office"
 lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/> <!--320-->
<!--[if !mso]><!-->
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--<![endif]-->
<title>Frontier Airlines | Your Preferences</title>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700&display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://static.cdn.responsys.net/i2/responsysimages/content/frontiera/pref_center_reset.css">
<link rel="stylesheet" type="text/css" href="https://static.cdn.responsys.net/i2/responsysimages/content/frontiera/pref_center_main4_20191218.css">
<link rel="stylesheet" type="text/css" href="https://static.cdn.responsys.net/i2/responsysimages/content/frontiera/pref_center_preferences3.css">
<link rel="stylesheet" type="text/css" href="https://static.cdn.responsys.net/i2/responsysimages/content/frontiera/banner_201912.css">
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.0"></script>
</head>
<body>
<main id="app" v-cloak>
<header>
<a href="https://www.flyfrontier.com/?sha_hash=$lookup(EMAIL_SHA256_HASH_)$&utm_medium=email&utm_source=preference"><img src="img/logo.png" alt="Frontier Airlines" class="logo" /></a>
</header>
<div class="wrapper">
<div>
<h1 class="signup">WELCOME TO YOUR FRONTIER PREFERENCES!</h1>
<h2>This is where you update how we communicate with you. Click save when you're all&nbsp;through.</h2>
</div>
    <div class="form-container">
    <form method="GET" action="" class="form" @submit="checkForm" id="prefForm">
        <div id="module" class="bg-grey">
            <h3>Update email address</h3>
            <div class="form-row">
                <div class="col-1">
                    <label for="email">Email Address</label>
                    <input type="email" name="email" v-model="custInfo.updatedEmail" placeholder="$lookup(EMAIL_ADDRESS_)$" />
                </div>
            </div>
        </div>
        <div id="module" class="bg-grey">
            <h3>Please tell us your name and birthday</h3>
            <div class="form-row2">
                <div class="col-1">
                    <label for="firstName">First name</label>
                    <input type="text" name="firstName" v-model="custInfo.firstName" pattern="^[a-zA-Z0-9 -]*$" title="We can only accept alphanumeric characters" placeholder="Jane" />
                </div>
                <div class="col-1">
                    <label for="lastName">Last name</label>
                    <input type="text" name="lastName" v-model="custInfo.lastName" pattern="^[a-zA-Z0-9 -]*$" title="We can only accept alphanumeric characters" placeholder="Smith" />
                </div>
            </div>
            <div class="form-row" style="padding-left: .5em;">
                <div class="col2">
                    <label for="dob">Date of birth</label>
                    <div class="col-dob">
                        <div class="col-dob-item">
                            <select id="" name="" v-model="custInfo.dobMM" class="select-dob-pref-page">
                            <option value="" disabled selected>MM</option>
                                <template v-for="mm in dobMM">
                                    <option>{{mm}}</option>
                                </template>
                            </select>
                        </div>
                        <div class="col-dob-item">
                            <select id="" name="" v-model="custInfo.dobDD" class="select-dob-pref-page">
                            <option value="" disabled selected>DD</option>
                                <template v-for="dd in dobDD">
                                    <option>{{dd}}</option>
                                </template>
                            </select>
                        </div>
                        <div class="col-dob-item">
                            <select id="" name="" v-model="custInfo.dobYY" class="select-dob-pref-page">
                            <option value="" disabled selected>YYYY</option>
                                <template v-for="yy in dobYY">
                                    <option>{{yy}}</option>
                                </template>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="module" class="bg-grey">
            <h3>What is your language preference?</h3>
            <div class="preferences-2col-container">
                <div class="col-1">
                  <label for="language">Select language</label>
                  <select id="" name="" v-model="custInfo.language" class="select-arrow">
                    <option value="" disabled selected>select one</option>
                        <template v-for="language in preferredLanguage">
                            <option>{{language}}</option>
                        </template>
                  </select>
                </div>
            </div>
        </div>
        <div id="module" class="bg-grey">
            <h3>Where is your home base?</h3>
            <div class="preferences-3col-container">
                <div class="col1">
                    <label for="city">City</label>
                    <input type="text" name="city" v-model="custInfo.city" pattern="^[a-zA-Z0-9 -]*$" title="We can only accept alphanumeric characters" placeholder="Denver" />
                </div>
                <div class="col2">
                    <label for="state">State</label>
                    <select id="" name="" v-model="custInfo.state" class="select-arrow">
                    <option value="" disabled selected>&nbsp;</option>
                        <template v-for="state in preferredState">
                            <option>{{state}}</option>
                        </template>
                    </select>
                </div>
                <div class="col3">
                    <label for="state">Zip code</label>
                    <input type="text" name="zipcode" v-model="custInfo.zipcode" pattern="[0-9]{5}" title="Five digit zip code" placeholder="XXXXX" />
                </div>
            </div>

            <div class="preferences-2col-container paddtp32">
                <div class="col1">
                    <label for="state">Preferred airport</label>
                    <select id="" name="" v-model="custInfo.prefAirport" class="select-arrow">
                    <option value="" disabled selected>select one</option>
                        <template v-for="airport in airportCodes">
                            <option>{{airport}}</option>
                        </template>
                    </select>
                </div>
            </div>
        </div>
 
        <div id="module" class="bg-grey">
            <h3>Tell us what you prefer to hear&nbsp;about!</h3>
            <div class="form-row bg-white padd16" style="padding:1em;">
                <div><p class="center paddbtm8">Choose the programs you are interested&nbsp;in</p></div>
            </div>
            <div class="form-row2 bg-white padd16">
                    <div class="col-1">
                        <div class="checkbox-pref">
                            <label for="prefDeals">
                                <div>
                                    <img src="img/icn-deals.png" alt="" class="icon-prog" />
                                    <p>Deals</p>
                                    <p class="txt-sm">Be on the list, and be the first to hear about our best deals. Get low fares done right in your inbox.</p>
                                </div>
                                <input type="checkbox" id="prefDeals" v-model="custInfo.prefDeals">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>
                    <div class="col-1">
                        <div class="checkbox-pref">
                            <label class="" for="prefTravelTips">
                                <div>
                                    <img src="img/icn-tips.png" alt="" class="icon-prog" />
                                    <p>Travel Tips</p>
                                    <p class="txt-sm">Frontier gives you choice. Make travel easier with bundles, seat upgrades, and bag choices.</p>
                                </div>
                                <input type="checkbox" id="prefTravelTips" v-model="custInfo.prefTravelTips">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>
                    <div class="col-1">
                        <div class="checkbox-pref">
                            <label for="prefFrontierNews">
                                <div>
                                    <img src="img/icn-news.png" alt="" class="icon-prog" />
                                    <p>Frontier News</p>
                                    <p class="txt-sm">The latest news on new plane tails, and fleet updates.</p>
                                </div>
                                <input type="checkbox" id="prefFrontierNews" v-model="custInfo.prefFrontierNews">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>
                    <div class="col-1">
                        <div class="checkbox-pref">
                            <label for="prefTravelPerks">
                                <div>
                                    <img src="img/icn-perks.png" alt="" class="icon-prog" />
                                    <p>Travel Perks</p>
                                    <p class="txt-sm">Learn how to get the most out of your travel with our travel perks. Join the loyalty program and earn free flights with our miles program that lets you earn faster. A mile flown is a mile earned.</p>
                                </div>
                                <input type="checkbox" id="prefTravelPerks" v-model="custInfo.prefTravelPerks">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>
            </div>
        </div>
        <div id="module" class="bg-grey">
            <h3>Choose the frequency of&nbsp;emails*</h3>
            <div class="form-row bg-white padd32">
            <div class="unsub-col-3">
                <div class="checkbox-pref preferences-frequency-cell">
                    <label for="checkbox_all">
                        <div>
                            <p>send me deals</p>
                        </div>
                        <input 
                            type="checkbox" 
                            id="checkbox_all" 
                            name="all" 
                            :checked="(custInfo.emailPermissionStatus == false)"
                            @click="unsub()"       
                        >
                        <span class="checkmark top"></span>
                    </label>
                </div>
                <div class="checkbox-pref preferences-frequency-cell">
                    <label for="checkbox_unsub">
                        <div>
                            <p>unsubscribe</p>
                        </div>
                        <input
                            type="checkbox" 
                            id="checkbox_unsub" 
                            name="unsubscribe" 
                            :checked="custInfo.emailPermissionStatus"
                            @click="unsub()"
                        >
                        <span class="checkmark top"></span>
                    </label>
                </div>
            </div>
            <p class="unsub-txt-sm">*This setting is only for promotional emails and will not affect your flight itinerary or update messages</p>
            </div>
        </div>      
        <div id="module" class="bg-grey">
            <h3>What do you do for fun? (select all that&nbsp;apply)</h3>
            <div class="form-row3-interests">
                <div class="checkbox">
                    <p class="p-notactive">Outdoor activities</p>
                    <input type="checkbox" class="preferences-checkboxWhat_item outdoor" value="" name="item" id="prefOutdoorActivities" v-model="custInfo.prefOutdoorActivities">
                        <label class="label_item" for="prefOutdoorActivities">&nbsp;</label>
                        <div class="check"><img src="img/icn-check.png" style="width:23px;" /></div>
                </div>
                <div class="checkbox">
                    <p class="p-notactive">Dining</p>
                    <input type="checkbox" class="preferences-checkboxWhat_item dining" value="" name="item" id="prefDining" v-model="custInfo.prefDining">
                        <label class="label_item" for="prefDining">&nbsp;</label>
                        <div class="check"><img src="img/icn-check.png" style="width:23px;" /></div>
                </div>
                <div class="checkbox">
                    <p class="p-notactive">Entertainment</p>
                    <input type="checkbox" class="preferences-checkboxWhat_item entertainment" value="" name="item" id="prefEntertainment" v-model="custInfo.prefEntertainment">
                        <label class="label_item" for="prefEntertainment">&nbsp;</label>
                        <div class="check"><img src="img/icn-check.png" style="width:23px;" /></div>
                </div>
                <div class="checkbox">
                    <p class="p-notactive">Family</p>
                    <input type="checkbox" class="preferences-checkboxWhat_item family" value="" name="item" id="prefFamily1" v-model="custInfo.prefFamily1">
                        <label class="label_item" for="prefFamily1">&nbsp;</label>
                        <div class="check"><img src="img/icn-check.png" style="width:23px;" /></div>
                </div>
                <div class="checkbox">
                    <p class="p-notactive">Ski</p>
                    <input type="checkbox" class="preferences-checkboxWhat_item ski" value="" name="item" id="prefSki" v-model="custInfo.prefSki">
                        <label class="label_item" for="prefSki">&nbsp;</label>
                        <div class="check"><img src="img/icn-check.png" style="width:23px;" /></div>
                </div>
                <div class="checkbox">
                    <p class="p-notactive">Beach</p>
                    <input type="checkbox" class="preferences-checkboxWhat_item beach" value="" name="item" id="prefBeach" v-model="custInfo.prefBeach">
                        <label class="label_item" for="prefBeach">&nbsp;</label>
                        <div class="check"><img src="img/icn-check.png" style="width:23px;" /></div>
                </div>
                <div class="checkbox">
                    <p class="p-notactive">Art & Culture</p>
                    <input type="checkbox" class="preferences-checkboxWhat_item other1" value="" name="item" id="prefArtCulture" v-model="custInfo.prefArtCulture">
                        <label class="label_item" for="prefArtCulture">&nbsp;</label>
                        <div class="check"><img src="img/icn-check.png" style="width:23px;" /></div>
                </div>
                <div class="checkbox">
                    <p class="p-notactive">Shopping</p>
                    <input type="checkbox" class="preferences-checkboxWhat_item other2" value="" name="item" id="prefShopping" v-model="custInfo.prefShopping">
                        <label class="label_item" for="prefShopping">&nbsp;</label>
                        <div class="check"><img src="img/icn-check.png" style="width:23px;" /></div>
                </div>
            </div>
            <h3 class="paddtp32">Why do you travel? <span class="txt-sm">(select all that&nbsp;apply)</span></h3>
            <div class="form-row3-interests">
                    <div class="checkboxWhy">
                        <p class="p-notActive">Business</p>
                        <input type="checkbox" class="preferences-checkboxWhy_item business" value="" name="item" id="prefBusiness" v-model="custInfo.prefBusiness">
                            <label class="label_item" for="prefBusiness">&nbsp;</label>
                            <div class="checkWhy"><img src="img/icn-check.png" style="width:23px;" /></div>
                    </div>
                    <div class="checkboxWhy">
                        <p class="p-notActive">Pleasure</p>
                        <input type="checkbox" class="preferences-checkboxWhy_item pleasure" value="" name="item" id="prefPleasure" v-model="custInfo.prefPleasure">
                            <label class="label_item" for="prefPleasure">&nbsp;</label>
                            <div class="checkWhy"><img src="img/icn-check.png" style="width:23px;" /></div>
                    </div>
                    <div class="checkboxWhy">
                        <p class="p-notActive">Family</p>
                        <input type="checkbox" class="preferences-checkboxWhy_item family-2" value="" name="item" id="prefFamily2" v-model="custInfo.prefFamily2">
                            <label class="label_item" for="prefFamily2">&nbsp;</label>
                            <div class="checkWhy"><img src="img/icn-check.png" style="width:23px;" /></div>
                    </div>
            </div>
        </div>
        <div id="module" class="bg-grey">
            <h3>What content interests&nbsp;you?</h3>
            <div class="form-row bg-white" style="padding:1em;">
                <p class="center paddbtm8">Choose the type of email&nbsp;content</p>
            </div>
            <div class="form-row2 bg-white padd16">
                    <div class="col-1">
                        <div class="checkbox-pref">
                            <label for="prefDiscountDen">
                                <div>
                                    <img src="img/icn-program01a.png" alt="" class="icon-prog" />
                                    <p>Discount Den<sup>SM</sup></p>
                                    <p class="txt-sm">With a DISCOUNT DEN<sup>SM</sup> subscription you will have exclusive access to Frontier's LOWEST available fares. Better yet, the savings continue all year long! The more you fly, the more you save.</p>
                                </div>
                                <input type="checkbox" id="prefDiscountDen" v-model="custInfo.prefDiscountDen">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>         
                    <div class="col-1">
                        <div class="checkbox-pref">
                            <label class="" for="prefBundleSave">
                                <div>
                                    <img src="img/icn-program02.png" alt="" class="icon-prog" />
                                    <p>Bundle &amp; Save</p>
                                    <p class="txt-sm">Missing all the extras in travel, but still want the best price possible? Now you have a real choice with Frontier's exclusive bundles- the WORKS<sup>sm</sup> bundle and the PERKS<sup>sm</sup> bundle!</p>
                                </div>
                                <input type="checkbox" id="prefBundleSave" v-model="custInfo.prefBundleSave">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>
                    <div class="col-1">
                        <div class="checkbox-pref">
                            <label for="prefFrontierMiles">
                                <div>
                                    <img src="img/icn-program03.png" alt="" class="icon-prog" />
                                    <p>Frontier Miles</p>
                                    <p class="txt-sm">Travel just got a whole lot more rewarding with our FRONTIER Miles frequent flyer program. That's because whether you spend a lot more or a little, FRONTIER Miles lets you earn 1 mile per 1 mile flown, so you can easily redeem miles for reward flights, reach Elite Status sooner and travel more than ever before!</p>
                                </div>
                                <input type="checkbox" id="prefFrontierMiles" v-model="custInfo.prefFrontierMiles">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>
                    <div class="col-1">
                        <div class="checkbox-pref">
                            <label for="prefFrontierMastercard">
                                <div>
                                    <img src="img/icn-program04.png" alt="" class="icon-prog" />
                                    <p>Frontier Airlines World Mastercard<sup>&reg;</sup></p>
                                    <p class="txt-sm">With every purchase you make on the Frontier Airlines World Mastercard, you're unlocking more miles, more rewards and more opportunities to travel the way you want!</p>
                                </div>
                                <input type="checkbox" id="prefFrontierMastercard" v-model="custInfo.prefFrontierMastercard">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>
            </div>  
            <div class="btn paddtp60 paddbtm90">
                <button type="submit" class="btn-submit" id="next" value="next" form="prefForm">SAVE MY PREFERENCES</button>
            </div>
        </div>
<!--These are all hidden inputs to write the variables captured to tables in RI-->

<!--email address update inputs for SUPP table-->
    <input type="hidden" name="ORIGINAL_EMAIL" :value="custInfo.currentEmail">
    <input type="hidden" name="UPDATED_EMAIL" :value="custInfo.updatedEmail">
    <input type="hidden" name="RIID" value="$lookup(RIID_)$">

<!--Form data variable inputs-->
    <input v-if="custInfo.updatedEmailCheck" type="hidden" name="EMAIL_ADDRESS_" :value="custInfo.updatedEmail">
    <input type="hidden" name="FIRST_NAME" :value="custInfo.firstName">
    <input type="hidden" name="LAST_NAME" :value="custInfo.lastName">
    <input type="hidden" name="CITY_" :value="custInfo.city">
    <input type="hidden" name="STATE_" :value="custInfo.state">
    <input type="hidden" name="POSTAL_CODE_" :value="custInfo.zipcode">
    <input type="hidden" name="PREF_HOME_AIRPORT" :value="custInfo.prefAirportToSave">
    <input type="hidden" name="DATE_OF_BIRTH" :value="custInfo.dob">
    <input type="hidden" name="LANGUAGE_ISO2" :value="custInfo.language_db">
    <input type="hidden" name="PREF_UPDATE2_LAST_SUBMIT" :value="todayDate">
    <input type="hidden" name="EMAIL_SHA256_HASH_" value="$lookup(EMAIL_SHA256_HASH_)$">
    <!--Programs-->
    <input type="hidden" name="PROGRAMS_DEALS" :value="(custInfo.prefDeals) ? 1 : 0">  
    <input type="hidden" name="PROGRAMS_TRAVELTIPS" :value="(custInfo.prefTravelTips) ? 1 : 0"> 
    <input type="hidden" name="PROGRAMS_FRONTIERNEWS" :value="(custInfo.prefFrontierNews) ? 1 : 0"> 
    <input type="hidden" name="PROGRAMS_TRAVELPERKS" :value="(custInfo.prefTravelPerks) ? 1 : 0">   
    <!--Email Frequency-->
    <input type="hidden" name="EMAIL_PERMISSION_STATUS_" :value="(custInfo.emailPermissionStatus) ? 'O' : 'I'"> 
    <!--For fun-->
    <input type="hidden" name="FF_OUTDOORACTIVITIES" :value="(custInfo.prefOutdoorActivities) ? 1 : 0">
    <input type="hidden" name="FF_DINING" :value="(custInfo.prefDining) ? 1 : 0">
    <input type="hidden" name="FF_ENTERTAINMENT" :value="(custInfo.prefEntertainment) ? 1 : 0"> 
    <input type="hidden" name="FF_FAMILY" :value="(custInfo.prefFamily1) ? 1 : 0">  
    <input type="hidden" name="FF_SKI" :value="(custInfo.prefSki) ? 1 : 0"> 
    <input type="hidden" name="FF_BEACH" :value="(custInfo.prefBeach) ? 1 : 0"> 
    <input type="hidden" name="FF_ART_CULTURE" :value="(custInfo.prefArtCulture) ? 1 : 0">  
    <input type="hidden" name="FF_SHOPPING" :value="(custInfo.prefShopping) ? 1 : 0">   
    <!--Why travel-->
    <input type="hidden" name="WT_BUSINESS" :value="(custInfo.prefBusiness) ? 1 : 0">   
    <input type="hidden" name="WT_PLEASURE" :value="(custInfo.prefPleasure) ? 1 : 0">   
    <input type="hidden" name="WT_FAMILY" :value="(custInfo.prefFamily2) ? 1 : 0">  
    <!--Email content-->
    <input type="hidden" name="DD_CLICKED" :value="(custInfo.prefDiscountDen) ? 1 : 0">    
    <input type="hidden" name="BND_CLICKED" :value="(custInfo.prefBundleSave) ? 1 : 0"> 
    <input type="hidden" name="FM_CLICKED" :value="(custInfo.prefFrontierMiles) ? 1 : 0">   
    <input type="hidden" name="CC_CLICKED" :value="(custInfo.prefFrontierMastercard) ? 1 : 0">      

    </form>
    </div>
    <!--visa banner-->
    <div class="visa-banner-wrapper">
    <div class="visa-banner-container">
      <div class="visa-banner-item">
        <a href="http://www.barclaycardus.com/apply/Landing.action?campaignId=2665&cellNumber=24&referrerid=PTREMPREFCEN"><img src="img/barclay_cc_sticky2.png" alt="Frontier Visa"></a>
      </div>
      <div class="visa-banner-item mblhd">
        <a href="http://www.barclaycardus.com/apply/Landing.action?campaignId=2665&cellNumber=24&referrerid=PTREMPREFCEN"><div style="font-size: 8px; color: #d04041; padding:0 .5em; margin:0 auto;"><b>LIMITED TIME OFFER</b></div><p>TAKE TO THE AIR AND EARN <span class="bold fnt-green">50,000</span> BONUS&nbsp;MILES </p></a>
      </div>

      <div class="visa-banner-item">
        <a href="http://www.barclaycardus.com/apply/Landing.action?campaignId=2665&cellNumber=24&referrerid=PTREMPREFCEN"><button type="button" class="btn-visa-apply" id="apply" value="apply">APPLY NOW</button></a>
      </div>
    </div>
    </div>
    <!--/visa banner-->
</div>
<!--footer-->
<footer>
  <a href="https://www.flyfrontier.com/?sha_hash=$lookup(EMAIL_SHA256_HASH_)$&utm_medium=email&utm_source=preference"><img src="img/logo-footer.png" alt="Frontier Airlines" /></a>
  <div class="footer-links-container">
    <div>
    <p><a href="https://www.flyfrontier.com/contact-us/?sha_hash=$lookup(EMAIL_SHA256_HASH_)$&utm_medium=email&utm_source=preference" class="link-footer marltrt16">Contact Us</a> | <a href="https://www.flyfrontier.com/legal/?sha_hash=$lookup(EMAIL_SHA256_HASH_)$&utm_medium=email&utm_source=preference" class="link-footer marltrt16">Legal</a><span class="hide-pipe"> | </span></p>
    </div>
    <div>
    <p><a href="https://www.flyfrontier.com/legal/privacy-policy/?sha_hash=$lookup(EMAIL_SHA256_HASH_)$&utm_medium=email&utm_source=preference" class="link-footer marltrt16">Privacy&nbsp;Policy</a> | <a href="https://www.flyfrontier.com/legal/contract-of-carriage?sha_hash=$lookup(EMAIL_SHA256_HASH_)$&utm_medium=email&utm_source=preference" class="link-footer marltrt16">Contract&nbsp;of&nbsp;Carriage</a></p>
    </div>
  </div>
  <p class="paddtp32">Copyright &copy; $todayformat(0,yyyy)$ FRONTIER Airlines | All&nbsp;Rights&nbsp;Reserved.</p>
</footer>     
<!--/footer-->      



</main>
<script type="text/javascript">

var app = new Vue({
    el: '#app',
    data: {
        todayDate: '$todayformat(0)$',
        signupToday:true,
        thanksText:false,
        showtext: [
            {
              name: "checkbox_all",
              is_checked: false
            },
            {
              name: "checkbox_unsub",
              is_checked: false
            }
        ],
// The custInfo data object is used to store all the info on the record for this form. Using the BIF logic we are checking the fields for any existing data and then displaying it in the form where possible.        
        custInfo: {
            currentEmail:'$lookup(EMAIL_ADDRESS_)$',
            email:"",
            riid: '$lookup(RIID_)$',
            updatedEmail:'',
            updatedEmailCheck: false,
            emailToSave: "",
            emailPermissionStatus:$cond(eq(lookup(EMAIL_PERMISSION_STATUS_),I),false,cond(eq(lookup(EMAIL_PERMISSION_STATUS_),O),true,false))$,
            zipcode:'$cond(or(empty(lookup(POSTAL_CODE_)),eq(lookup(POSTAL_CODE_),nothing())),nothing(),lookup(POSTAL_CODE_))$',
            firstName:'$cond(or(empty(lookup(FIRST_NAME)),eq(lookup(FIRST_NAME),nothing())),nothing(),lookup(FIRST_NAME))$',
            lastName:'$cond(or(empty(lookup(LAST_NAME)),eq(lookup(LAST_NAME),nothing())),nothing(),lookup(LAST_NAME))$',
            city:'$cond(or(empty(lookup(CITY_)),eq(lookup(CITY_),nothing())),nothing(),lookup(CITY_))$',
            state:'$cond(or(empty(lookup(STATE_)),eq(lookup(STATE_),nothing())),nothing(),lookup(STATE_))$',
            language:'',
            language_db:'$cond(or(empty(lookup(LANGUAGE_ISO2)),eq(lookup(LANGUAGE_ISO2),nothing())),nothing(),lookup(LANGUAGE_ISO2))$',
            prefAirport: '$cond(or(empty(lookup(PREF_HOME_AIRPORT)),eq(lookup(PREF_HOME_AIRPORT),nothing())),nothing(),lookuprecords(Preference_Center, Airport_Code_City_SQL,AIRPORT_CODE,lookup(PREF_HOME_AIRPORT),AIRPORT_CODE_CITY))$',
            prefAirportToSave: '',
            dobMM:'',
            dobDD:'',
            dobYY:'',
            dob:'',
            dobLookup:'$lookup(DATE_OF_BIRTH)$',
            dobMMNum:'',
            prefDeals: $cond(eq(lookup(PROGRAMS_DEALS),0),false,cond(eq(lookup(PROGRAMS_DEALS),1),true,false))$,
            prefTravelTips: $cond(eq(lookup(PROGRAMS_TRAVELTIPS),0),false,cond(eq(lookup(PROGRAMS_TRAVELTIPS),1),true,false))$,
            prefFrontierNews: $cond(eq(lookup(PROGRAMS_FRONTIERNEWS),0),false,cond(eq(lookup(PROGRAMS_FRONTIERNEWS),1),true,false))$,
            prefTravelPerks: $cond(eq(lookup(PROGRAMS_TRAVELPERKS),0),false,cond(eq(lookup(PROGRAMS_TRAVELPERKS),1),true,false))$,
            prefOutdoorActivities: $cond(eq(lookup(FF_OUTDOORACTIVITIES),0),false,cond(eq(lookup(FF_OUTDOORACTIVITIES),1),true,false))$,
            prefDining: $cond(eq(lookup(FF_DINING),0),false,cond(eq(lookup(FF_DINING),1),true,false))$,
            prefEntertainment: $cond(eq(lookup(FF_ENTERTAINMENT),0),false,cond(eq(lookup(FF_ENTERTAINMENT),1),true,false))$,
            prefFamily1: $cond(eq(lookup(FF_FAMILY),0),false,cond(eq(lookup(FF_FAMILY),1),true,false))$,
            prefSki: $cond(eq(lookup(FF_SKI),0),false,cond(eq(lookup(FF_SKI),1),true,false))$,
            prefBeach: $cond(eq(lookup(FF_BEACH),0),false,cond(eq(lookup(FF_BEACH),1),true,false))$,
            prefArtCulture: $cond(eq(lookup(FF_ART_CULTURE),0),false,cond(eq(lookup(FF_ART_CULTURE),1),true,false))$,
            prefShopping: $cond(eq(lookup(FF_SHOPPING),0),false,cond(eq(lookup(FF_SHOPPING),1),true,false))$,
            prefBusiness: $cond(eq(lookup(WT_BUSINESS),0),false,cond(eq(lookup(WT_BUSINESS),1),true,false))$,
            prefPleasure: $cond(eq(lookup(WT_PLEASURE),0),false,cond(eq(lookup(WT_PLEASURE),1),true,false))$,
            prefFamily2: $cond(eq(lookup(WT_FAMILY),0),false,cond(eq(lookup(WT_FAMILY),1),true,false))$,
            prefDiscountDen: $cond(eq(lookup(DD_CLICKED),0),false,cond(eq(lookup(DD_CLICKED),1),true,false))$,
            prefBundleSave: $cond(eq(lookup(BND_CLICKED),0),false,cond(eq(lookup(BND_CLICKED),1),true,false))$,
            prefFrontierMiles: $cond(eq(lookup(FM_CLICKED),0),false,cond(eq(lookup(FM_CLICKED),1),true,false))$,
            prefFrontierMastercard: $cond(eq(lookup(CC_CLICKED),0),false,cond(eq(lookup(CC_CLICKED),1),true,false))$
        },
        preferredState: ['AK', 'AL', 'AR', 'AZ', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA', 'HI', 'IA', 'ID', 'IL', 'IN', 'KS', 'KY', 'LA', 'MA', 'MD', 'ME', 'MI', 'MN', 'MO', 'MS', 'MT', 'NC', 'NE', 'NH', 'NJ', 'NM', 'NV', 'NY', 'OH', 'OK', 'OR', 'PA', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VA', 'VT', 'WA', 'WI', 'WV', 'WY'],
// airports is a list of aiport codes from the AIRPORT_TABLE SUPP via Airport_List_SQL and will stay updated as the SUPP is updated.    
        airports: "$lookuprecords(Preference_Center, Airport_List_SQL,LOOKUP,1,AIRPORT_CODES)$",
        airportCodes: [],
        dobMM: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        dobDD: ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
        dobYY: [],
        preferredLanguage: ['English', 'Spanish']
    },
    methods:{
// This method checks the email address form field to make sure that it is a valid email address format. If it is not it will throw an error and not let the user submit until fixed.        

        checkForm:function(e) {
            if (custInfo.updatedEmail !== '') {
              this.errors = [];
              if(!this.custInfo.email) {
               this.errors.push("Your Email Address");
                var expr = /^([-!#-'*/-9=?A-Z^-~]+(\.[-!#-'*/-9=?A-Z^-~]+)*|"([]!#-[^-~ \t]|(\\[\t -~]))+")@(([-!#-'*/-9=?A-Z^-~]{1,})+(\.(([-!#-'*/-9=?A-Z^-~]{2,}))+){1,})$/igm;
                this.redBorderEmail = true;
              } else {
                this.redBorderEmail = false;
              }    

              if(!this.errors.length) return true;
              e.preventDefault();
            }
        },
// This method is used to toggle the email permission status when the email freq check boxes are clicked.
        unsub: function() {
            this.custInfo.emailPermissionStatus = !this.custInfo.emailPermissionStatus;
        },
        
// This method uses the month and year variables to determine the number of days in the month to display in the drop down menu so that it can accurately be recorded into RI.        
        maxDay: function(){
            function daysInMonth(month, year) {
                return new Date(year, month, 0).getDate();
              }
            if (this.custInfo.dobMMNum == '') {
                var maxDays = 31
                // this.dobDD = Array.from({length: maxDays}, (v, k) => k+1);
                this.dobDD = this.dobDD.slice(0,maxDays);
            } else {
                var maxDays = daysInMonth(this.custInfo.dobMMNum, this.custInfo.dobYY)
                this.dobDD = this.dobDD.slice(0,maxDays);
            }
        }
    },
// These functions run on mounted to prep the page for various data components.     
    mounted: function() {
// Takes the airpors list and splits in by commas and puts in an array so we can loop through in the drop down menu.    
        this.airportCodes = this.airports.split(",");
// This will create an array of all year dates from 1900 to the current date minus 18 years so that the drop down menu dates do not need to be updated.
        var currentDate = new Date().getFullYear() - 18;
      for (i = 1900; i <= currentDate; i++) {
       this.dobYY.unshift(i);
      }
// This will lookup the DATE_OF_BIRTH field of a customer if this value is not null and then re formats into seperate variables that can be displayed in the drop down menus on the form page.
      if (this.custInfo.dobLookup !== '') {
        var dateArray = this.custInfo.dobLookup.split(" ");
        var dateArray2 = dateArray[0].split("-");

        this.custInfo.dobYY = dateArray2[0];
        this.custInfo.dobMM = dateArray2[1];
        this.custInfo.dobDD = dateArray2[2];

// This takes the custInfo.dobMM variable that was assigned above and converts it into the month shorthand that will be used in the form drop down menu.
        if (this.custInfo.dobMM == "01") {
            this.custInfo.dobMM = "Jan"
        } else if (this.custInfo.dobMM == "02") {
            this.custInfo.dobMM = "Feb"
        } else if (this.custInfo.dobMM == "03") {
            this.custInfo.dobMM = "Mar"
        } else if (this.custInfo.dobMM == "04") {
            this.custInfo.dobMM = "Apr"
        } else if (this.custInfo.dobMM == "05") {
            this.custInfo.dobMM = "May"
        } else if (this.custInfo.dobMM == "06") {
           this.custInfo.dobMM = "Jun"
        } else if (this.custInfo.dobMM == "07") {
            this.custInfo.dobMM = "Jul"
        } else if (this.custInfo.dobMM == "08") {
            this.custInfo.dobMM = "Aug"
        } else if (this.custInfo.dobMM == "09") {
            this.custInfo.dobMM = "Sep"
        } else if (this.custInfo.dobMM == "10") {
            this.custInfo.dobMM = "Oct"
        } else if (this.custInfo.dobMM == "11") {
            this.custInfo.dobMM = "Nov"
        } else if (this.custInfo.dobMM == "12") {
            this.custInfo.dobMM = "Dec"
        }

      }
    },
    updated: function() {

// This takes the month shorthand value that is captured from the form field drop down menu and converts it into the numeric month vaue to be used to store on the contacts list in a valid format. Only does it when all the date drop downs have been selected to prevent partial dates from trying to be stored.
    if (this.custInfo.dobYY !== "" && this.custInfo.dobMM !== "" && this.custInfo.dobDD) {
            if (this.custInfo.dobMM == "Jan") {
            this.custInfo.dobMMNum = "01"
        } else if (this.custInfo.dobMM == "Feb") {
            this.custInfo.dobMMNum = "02"
        } else if (this.custInfo.dobMM == "Mar") {
            this.custInfo.dobMMNum = "03"
        } else if (this.custInfo.dobMM == "Apr") {
            this.custInfo.dobMMNum = "04"
        } else if (this.custInfo.dobMM == "May") {
            this.custInfo.dobMMNum = "05"
        } else if (this.custInfo.dobMM == "Jun") {
            this.custInfo.dobMMNum = "06"
        } else if (this.custInfo.dobMM == "Jul") {
            this.custInfo.dobMMNum = "07"
        } else if (this.custInfo.dobMM == "Aug") {
            this.custInfo.dobMMNum = "08"
        } else if (this.custInfo.dobMM == "Sep") {
            this.custInfo.dobMMNum = "09"
        } else if (this.custInfo.dobMM == "Oct") {
            this.custInfo.dobMMNum = "10"
        } else if (this.custInfo.dobMM == "Nov") {
            this.custInfo.dobMMNum = "11"
        } else if (this.custInfo.dobMM == "Dec") {
            this.custInfo.dobMMNum = "12"
        }
            this.custInfo.dob = this.custInfo.dobYY+'-'+this.custInfo.dobMMNum+'-'+this.custInfo.dobDD
        }

// This selects database values for the customers' preferred language

        if (this.custInfo.language == "English") {
              this.custInfo.language_db = 'en';
          } else if (this.custInfo.language == "Spanish") {
              this.custInfo.language_db = 'es';
          }

// This selects display values for the customers' preferred language from the data base values

        if (this.custInfo.language_db == "en") {
              this.custInfo.language = 'English';
          } else if (this.custInfo.language_db == "es") {
              this.custInfo.language = 'Spanish';
          }

// This takes a look at the updatedEmail variable which is created when a customer enters text into the update email address text box and then assigns variables to be used for the update email address functionality. Only sets the variables once there is a value entered in text box.

// The custInfo.updatedEmailCheck variable is used above in the hidden input fields to determine if a new email address will be saved to the contact list. If there is a new email address saved the form rules will check to make sure that the email address doesnt already exist on the contacts list. If it does it will send them to a landing page that tells them they are already on the list. 

        if (this.custInfo.updatedEmail !== '') {
              this.custInfo.updatedEmailCheck = true;
              this.custInfo.emailToSave = this.custInfo.updatedEmail

          } else {
            this.custInfo.updatedEmailCheck = false;
            this.custInfo.emailToSave = this.custInfo.currentEmail
          }
// This converts the airport code / city combo fromt he drop down menu into just the airport code to be saved to PET in RI.
          if (this.custInfo.prefAirport !== '') {
          this.custInfo.prefAirportToSave = this.custInfo.prefAirport.substring(0,3);
            }
 
        
  }
})
</script>
</body>
</html>
